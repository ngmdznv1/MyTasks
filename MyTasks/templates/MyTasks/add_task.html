{% extends 'base.html' %}

{% block title %}–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É{% endblock %}

{% block main %}
<div class="fade-in-up">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <div class="text-center mb-5">
        <h1 class="page-title">
            <i class="bi bi-plus-circle me-3"></i>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É
        </h1>
        <p class="text-white-50 fs-5">–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞–¥–∞—á—É –∏ —Å–¥–µ–ª–∞–π—Ç–µ —à–∞–≥ –∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—é —Ü–µ–ª–∏</p>
    </div>

    <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ -->
    <div class="row justify-content-center">
        <div class="col-lg-8 col-xl-6">
            <div class="form-container">
                <form action="" method="post" class="needs-validation" novalidate>
                    {% csrf_token %}
                    
                    <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ -->
                    <div class="mb-4">
                        <label for="id_title" class="form-label">
                            <i class="bi bi-card-text me-2"></i>–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
                        </label>
                        <input type="text" 
                               class="form-control" 
                               id="id_title" 
                               name="title" 
                               placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏..."
                               required>
                        <div class="invalid-feedback">
                            –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏.
                        </div>
                    </div>

                    <!-- –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ -->
                    <div class="mb-4">
                        <label for="id_description" class="form-label">
                            <i class="bi bi-file-text me-2"></i>–û–ø–∏—Å–∞–Ω–∏–µ
                        </label>
                        <textarea class="form-control" 
                                  id="id_description" 
                                  name="description" 
                                  rows="4" 
                                  placeholder="–û–ø–∏—à–∏—Ç–µ –¥–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏..."
                                  required></textarea>
                        <div class="invalid-feedback">
                            –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –¥–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏.
                        </div>
                    </div>

                    <!-- –°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è -->
                    <div class="mb-4">
                        <label for="id_due_date" class="form-label">
                            <i class="bi bi-calendar-event me-2"></i>–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
                        </label>
                        <input type="date" 
                               class="form-control" 
                               id="id_due_date" 
                               name="due_date" 
                               required>
                        <div class="invalid-feedback">
                            –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
                        </div>
                    </div>

                    <!-- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç -->
                    <div class="mb-4">
                        <label for="id_priority" class="form-label">
                            <i class="bi bi-flag me-2"></i>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç
                        </label>
                        <select class="form-control" id="id_priority" name="priority">
                            <option value="low">üü¢ –ù–∏–∑–∫–∏–π</option>
                            <option value="medium" selected>üü° –°—Ä–µ–¥–Ω–∏–π</option>
                            <option value="high">üî¥ –í—ã—Å–æ–∫–∏–π</option>
                        </select>
                    </div>

                    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è -->
                    <div class="mb-4">
                        <label for="id_category" class="form-label">
                            <i class="bi bi-tags me-2"></i>–ö–∞—Ç–µ–≥–æ—Ä–∏—è
                        </label>
                        <select class="form-control" id="id_category" name="category">
                            <option value="work">üíº –†–∞–±–æ—Ç–∞</option>
                            <option value="personal">üë§ –õ–∏—á–Ω–æ–µ</option>
                            <option value="health">üè• –ó–¥–æ—Ä–æ–≤—å–µ</option>
                            <option value="education">üìö –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</option>
                            <option value="shopping">üõí –ü–æ–∫—É–ø–∫–∏</option>
                            <option value="other">üìã –î—Ä—É–≥–æ–µ</option>
                        </select>
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a href="{% url 'main' %}" class="btn btn-outline-secondary me-md-2">
                            <i class="bi bi-arrow-left me-2"></i>–ù–∞–∑–∞–¥
                        </a>
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="bi bi-check-lg me-2"></i>–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- –°–æ–≤–µ—Ç—ã -->
    <div class="row justify-content-center mt-5">
        <div class="col-lg-8 col-xl-6">
            <div class="glass-effect rounded-3 p-4">
                <h5 class="text-white mb-3">
                    <i class="bi bi-lightbulb me-2"></i>–°–æ–≤–µ—Ç—ã –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
                </h5>
                <div class="row">
                    <div class="col-md-6">
                        <ul class="list-unstyled text-white-50">
                            <li class="mb-2">
                                <i class="bi bi-check-circle me-2"></i>–ë—É–¥—å—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏
                            </li>
                            <li class="mb-2">
                                <i class="bi bi-check-circle me-2"></i>–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Å—Ä–æ–∫–∏
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <ul class="list-unstyled text-white-50">
                            <li class="mb-2">
                                <i class="bi bi-check-circle me-2"></i>–†–∞–∑–±–∏–≤–∞–π—Ç–µ –±–æ–ª—å—à–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞ —á–∞—Å—Ç–∏
                            </li>
                            <li class="mb-2">
                                <i class="bi bi-check-circle me-2"></i>–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º—ã
(function() {
    'use strict';
    window.addEventListener('load', function() {
        var forms = document.getElementsByClassName('needs-validation');
        var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            }, false);
        });
    }, false);
})();

// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–∞—Ç—É –∫–∞–∫ —Å–µ–≥–æ–¥–Ω—è
document.addEventListener('DOMContentLoaded', function() {
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('id_due_date').min = today;
});
</script>
{% endblock %}